


```py
def topology_sort(root):
    q = deque([(root, answer[root])])
    
    while q:
        # 큐에 담긴 노드를 꺼내어
        now, order = q.popleft()

        # 노드에서 출발하는 모든 간선을 제거
        for arrival in graph[now]:
            enter[arrival] -= 1
            answer[arrival] = max(answer[arrival], order + 1)

            # 진입 차수가 0이면 큐에 넣기
            if enter[arrival] == 0:
                q.append((arrival, answer[arrival]))

        graph[now] = []
```
